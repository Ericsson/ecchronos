sudo: required
language: java
jdk: oraclejdk8
cache:
  directories:
  - $HOME/.m2
matrix:
  include:
  - name: "Unit tests"
    env: TEST_SUITE='test'
  - name: "OSGi integration"
    env: TEST_SUITE='integration-test verify -P osgi-integration-tests'
  - name: "Standalone integration"
    env: TEST_SUITE='integration-test verify -P standalone-integration-tests'
script:
  - mvn $TEST_SUITE -B
services:
  - docker
